<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room</title>
    <link rel="stylesheet" href="/static/assets/css/style.css">
    <link rel="stylesheet" href="/static/assets/modal/style.css">
</head>

<body oncontextmenu="return false;">
    <h1 class="main-title">Bobail</h1>

    <div class="setting-tab">
        <svg class="svg-icon" viewBox="0 0 20 20" id="settings" modal-id="roomModal">
            <path fill="chrome" d="M17.498,11.697c-0.453-0.453-0.704-1.055-0.704-1.697c0-0.642,0.251-1.244,0.704-1.697c0.069-0.071,0.15-0.141,0.257-0.22c0.127-0.097,0.181-0.262,0.137-0.417c-0.164-0.558-0.388-1.093-0.662-1.597c-0.075-0.141-0.231-0.22-0.391-0.199c-0.13,0.02-0.238,0.027-0.336,0.027c-1.325,0-2.401-1.076-2.401-2.4c0-0.099,0.008-0.207,0.027-0.336c0.021-0.158-0.059-0.316-0.199-0.391c-0.503-0.274-1.039-0.498-1.597-0.662c-0.154-0.044-0.32,0.01-0.416,0.137c-0.079,0.106-0.148,0.188-0.22,0.257C11.244,2.956,10.643,3.207,10,3.207c-0.642,0-1.244-0.25-1.697-0.704c-0.071-0.069-0.141-0.15-0.22-0.257C7.987,2.119,7.821,2.065,7.667,2.109C7.109,2.275,6.571,2.497,6.07,2.771C5.929,2.846,5.85,3.004,5.871,3.162c0.02,0.129,0.027,0.237,0.027,0.336c0,1.325-1.076,2.4-2.401,2.4c-0.098,0-0.206-0.007-0.335-0.027C3.001,5.851,2.845,5.929,2.77,6.07C2.496,6.572,2.274,7.109,2.108,7.667c-0.044,0.154,0.01,0.32,0.137,0.417c0.106,0.079,0.187,0.148,0.256,0.22c0.938,0.936,0.938,2.458,0,3.394c-0.069,0.072-0.15,0.141-0.256,0.221c-0.127,0.096-0.181,0.262-0.137,0.416c0.166,0.557,0.388,1.096,0.662,1.596c0.075,0.143,0.231,0.221,0.392,0.199c0.129-0.02,0.237-0.027,0.335-0.027c1.325,0,2.401,1.076,2.401,2.402c0,0.098-0.007,0.205-0.027,0.334C5.85,16.996,5.929,17.154,6.07,17.23c0.501,0.273,1.04,0.496,1.597,0.66c0.154,0.047,0.32-0.008,0.417-0.137c0.079-0.105,0.148-0.186,0.22-0.256c0.454-0.453,1.055-0.703,1.697-0.703c0.643,0,1.244,0.25,1.697,0.703c0.071,0.07,0.141,0.15,0.22,0.256c0.073,0.098,0.188,0.152,0.307,0.152c0.036,0,0.073-0.004,0.109-0.016c0.558-0.164,1.096-0.387,1.597-0.66c0.141-0.076,0.22-0.234,0.199-0.393c-0.02-0.129-0.027-0.236-0.027-0.334c0-1.326,1.076-2.402,2.401-2.402c0.098,0,0.206,0.008,0.336,0.027c0.159,0.021,0.315-0.057,0.391-0.199c0.274-0.5,0.496-1.039,0.662-1.596c0.044-0.154-0.01-0.32-0.137-0.416C17.648,11.838,17.567,11.77,17.498,11.697 M16.671,13.334c-0.059-0.002-0.114-0.002-0.168-0.002c-1.749,0-3.173,1.422-3.173,3.172c0,0.053,0.002,0.109,0.004,0.166c-0.312,0.158-0.64,0.295-0.976,0.406c-0.039-0.045-0.077-0.086-0.115-0.123c-0.601-0.6-1.396-0.93-2.243-0.93s-1.643,0.33-2.243,0.93c-0.039,0.037-0.077,0.078-0.116,0.123c-0.336-0.111-0.664-0.248-0.976-0.406c0.002-0.057,0.004-0.113,0.004-0.166c0-1.75-1.423-3.172-3.172-3.172c-0.054,0-0.11,0-0.168,0.002c-0.158-0.312-0.293-0.639-0.405-0.975c0.044-0.039,0.085-0.078,0.124-0.115c1.236-1.236,1.236-3.25,0-4.486C3.009,7.719,2.969,7.68,2.924,7.642c0.112-0.336,0.247-0.664,0.405-0.976C3.387,6.668,3.443,6.67,3.497,6.67c1.75,0,3.172-1.423,3.172-3.172c0-0.054-0.002-0.11-0.004-0.168c0.312-0.158,0.64-0.293,0.976-0.405C7.68,2.969,7.719,3.01,7.757,3.048c0.6,0.6,1.396,0.93,2.243,0.93s1.643-0.33,2.243-0.93c0.038-0.039,0.076-0.079,0.115-0.123c0.336,0.112,0.663,0.247,0.976,0.405c-0.002,0.058-0.004,0.114-0.004,0.168c0,1.749,1.424,3.172,3.173,3.172c0.054,0,0.109-0.002,0.168-0.004c0.158,0.312,0.293,0.64,0.405,0.976c-0.045,0.038-0.086,0.077-0.124,0.116c-0.6,0.6-0.93,1.396-0.93,2.242c0,0.847,0.33,1.645,0.93,2.244c0.038,0.037,0.079,0.076,0.124,0.115C16.964,12.695,16.829,13.021,16.671,13.334 M10,5.417c-2.528,0-4.584,2.056-4.584,4.583c0,2.529,2.056,4.584,4.584,4.584s4.584-2.055,4.584-4.584C14.584,7.472,12.528,5.417,10,5.417 M10,13.812c-2.102,0-3.812-1.709-3.812-3.812c0-2.102,1.71-3.812,3.812-3.812c2.102,0,3.812,1.71,3.812,3.812C13.812,12.104,12.102,13.812,10,13.812"></path>
        </svg>
        <br><br>
        <svg class="leave-room" class="svg-icon" viewBox="0 0 512.000000 512.000000">
            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)">
                <path d="M2315 5109 c-597 -61 -1141 -318 -1563 -739 -1002 -1000 -1002 -2620 0 -3620 407 -405 900 -647 1493 -732 119 -17 512 -16 635 1 573 79 1074 323 1473 717 418 413 663 908 749 1509 17 118 17 512 0 630 -85 593 -327 1088 -734 1495 -393 394 -891 643 -1453 726 -122 18 -477 26 -600 13z m460 -159 c551 -50 1089 -303 1481 -696 374 -376 605 -844 685 -1389 18 -118 18 -492 0 -610 -80 -544 -312 -1014 -685 -1389 -374 -375 -841 -606 -1391 -687 -118 -18 -492 -18 -610 0 -546 80 -1023 317 -1396 692 -188 190 -325 382 -449 631 -332 668 -332 1448 0 2116 242 487 604 849 1092 1091 393 196 837 280 1273 241z"/>
                <path d="M1475 4135 l-25 -24 0 -1355 0 -1355 28 -19 c15 -11 277 -146 583 -301 367 -185 566 -281 586 -281 17 0 41 9 54 19 24 19 24 20 27 280 l3 261 370 0 371 0 29 29 29 29 0 342 0 342 -29 29 c-16 16 -37 29 -46 29 -24 0 -72 -27 -79 -45 -3 -9 -6 -147 -6 -306 l0 -289 -320 0 -320 0 0 1054 0 1055 -22 25 c-16 18 -138 74 -392 181 -203 85 -371 157 -374 160 -3 3 317 5 711 5 l717 0 0 -255 0 -256 25 -24 c29 -30 74 -32 106 -6 l24 19 3 303 c3 323 0 348 -44 368 -18 8 -298 11 -1005 11 l-980 0 -24 -25z m603 -375 c248 -104 461 -194 472 -200 20 -11 20 -16 20 -1280 0 -699 -3 -1270 -7 -1270 -5 0 -219 108 -478 239 l-470 239 -3 1231 c-1 683 2 1231 7 1231 4 0 211 -85 459 -190z"/>
                <path d="M3552 3137 c-14 -14 -22 -36 -22 -56 0 -28 13 -47 82 -117 l82 -84 -298 0 -297 0 -24 -25 c-33 -32 -33 -78 0 -110 l24 -25 298 0 298 0 -83 -83 c-72 -72 -82 -87 -82 -118 0 -46 33 -79 80 -79 30 0 51 17 197 163 148 147 163 165 163 197 0 31 -15 50 -163 197 -149 149 -166 163 -198 163 -24 0 -42 -7 -57 -23z"/>
            </g>
        </svg>
    </div>

    <!-- <div modal-id="roomModal"></div> -->

    <div class="modal" id="roomModal" style="display: block;">
        <div class="modal-back"></div>
        <div class="modal-container">
            <div class="modal-header">
                <button class="modal-close close-button">X</button>
                <button class="help-button tooltip">?<span class="tooltip-text">1) Enter a pseudo<br>2) Give a name for the room<br>3) Choose an action</span></button>
            </div>
            <h1>Room</h1>
            <label for="pseudo">Pseudo: </label><br>
            <input type="text" name="pseudo" id="pseudo"><br><br>

            <label for="room">Room: </label><br>
            <input type="text" name="room" id="room"><br><br>

            <div class="modal-footer">
                <button id="createRoom" class="modal-close primary">Create</button>
                <button id="joinRoom" class="modal-close second">Join</button>
            </div>
        </div>
    </div>

    <div modal-id="endGameModal"></div>
    <div class="modal" id="endGameModal">
        <div class="modal-back"></div>
        <div class="modal-container">
            <div class="modal-header">
                <button class="modal-close close-button">X</button>
                <!-- <button class="help-button tooltip">?<span class="tooltip-text">1) Enter a pseudo<br>2) Give a name for the room<br>3) Choose an action</span></button> -->
            </div>
            <h1>Game finished</h1>
            <label for="restart">Just one more game?</label><br><br><br>

            <div class="modal-footer">
                <button id="restartGame" class="modal-close primary">Restart</button>
                <button class="modal-close second leave-room">Leave</button>
            </div>
        </div>
    </div>

    <div class="info-tab">
        <!-- <svg class="svg-icon" viewBox="0 0 20 20" id="settings">
                <path fill="chrome" d="M17.498,11.697c-0.453-0.453-0.704-1.055-0.704-1.697c0-0.642,0.251-1.244,0.704-1.697c0.069-0.071,0.15-0.141,0.257-0.22c0.127-0.097,0.181-0.262,0.137-0.417c-0.164-0.558-0.388-1.093-0.662-1.597c-0.075-0.141-0.231-0.22-0.391-0.199c-0.13,0.02-0.238,0.027-0.336,0.027c-1.325,0-2.401-1.076-2.401-2.4c0-0.099,0.008-0.207,0.027-0.336c0.021-0.158-0.059-0.316-0.199-0.391c-0.503-0.274-1.039-0.498-1.597-0.662c-0.154-0.044-0.32,0.01-0.416,0.137c-0.079,0.106-0.148,0.188-0.22,0.257C11.244,2.956,10.643,3.207,10,3.207c-0.642,0-1.244-0.25-1.697-0.704c-0.071-0.069-0.141-0.15-0.22-0.257C7.987,2.119,7.821,2.065,7.667,2.109C7.109,2.275,6.571,2.497,6.07,2.771C5.929,2.846,5.85,3.004,5.871,3.162c0.02,0.129,0.027,0.237,0.027,0.336c0,1.325-1.076,2.4-2.401,2.4c-0.098,0-0.206-0.007-0.335-0.027C3.001,5.851,2.845,5.929,2.77,6.07C2.496,6.572,2.274,7.109,2.108,7.667c-0.044,0.154,0.01,0.32,0.137,0.417c0.106,0.079,0.187,0.148,0.256,0.22c0.938,0.936,0.938,2.458,0,3.394c-0.069,0.072-0.15,0.141-0.256,0.221c-0.127,0.096-0.181,0.262-0.137,0.416c0.166,0.557,0.388,1.096,0.662,1.596c0.075,0.143,0.231,0.221,0.392,0.199c0.129-0.02,0.237-0.027,0.335-0.027c1.325,0,2.401,1.076,2.401,2.402c0,0.098-0.007,0.205-0.027,0.334C5.85,16.996,5.929,17.154,6.07,17.23c0.501,0.273,1.04,0.496,1.597,0.66c0.154,0.047,0.32-0.008,0.417-0.137c0.079-0.105,0.148-0.186,0.22-0.256c0.454-0.453,1.055-0.703,1.697-0.703c0.643,0,1.244,0.25,1.697,0.703c0.071,0.07,0.141,0.15,0.22,0.256c0.073,0.098,0.188,0.152,0.307,0.152c0.036,0,0.073-0.004,0.109-0.016c0.558-0.164,1.096-0.387,1.597-0.66c0.141-0.076,0.22-0.234,0.199-0.393c-0.02-0.129-0.027-0.236-0.027-0.334c0-1.326,1.076-2.402,2.401-2.402c0.098,0,0.206,0.008,0.336,0.027c0.159,0.021,0.315-0.057,0.391-0.199c0.274-0.5,0.496-1.039,0.662-1.596c0.044-0.154-0.01-0.32-0.137-0.416C17.648,11.838,17.567,11.77,17.498,11.697 M16.671,13.334c-0.059-0.002-0.114-0.002-0.168-0.002c-1.749,0-3.173,1.422-3.173,3.172c0,0.053,0.002,0.109,0.004,0.166c-0.312,0.158-0.64,0.295-0.976,0.406c-0.039-0.045-0.077-0.086-0.115-0.123c-0.601-0.6-1.396-0.93-2.243-0.93s-1.643,0.33-2.243,0.93c-0.039,0.037-0.077,0.078-0.116,0.123c-0.336-0.111-0.664-0.248-0.976-0.406c0.002-0.057,0.004-0.113,0.004-0.166c0-1.75-1.423-3.172-3.172-3.172c-0.054,0-0.11,0-0.168,0.002c-0.158-0.312-0.293-0.639-0.405-0.975c0.044-0.039,0.085-0.078,0.124-0.115c1.236-1.236,1.236-3.25,0-4.486C3.009,7.719,2.969,7.68,2.924,7.642c0.112-0.336,0.247-0.664,0.405-0.976C3.387,6.668,3.443,6.67,3.497,6.67c1.75,0,3.172-1.423,3.172-3.172c0-0.054-0.002-0.11-0.004-0.168c0.312-0.158,0.64-0.293,0.976-0.405C7.68,2.969,7.719,3.01,7.757,3.048c0.6,0.6,1.396,0.93,2.243,0.93s1.643-0.33,2.243-0.93c0.038-0.039,0.076-0.079,0.115-0.123c0.336,0.112,0.663,0.247,0.976,0.405c-0.002,0.058-0.004,0.114-0.004,0.168c0,1.749,1.424,3.172,3.173,3.172c0.054,0,0.109-0.002,0.168-0.004c0.158,0.312,0.293,0.64,0.405,0.976c-0.045,0.038-0.086,0.077-0.124,0.116c-0.6,0.6-0.93,1.396-0.93,2.242c0,0.847,0.33,1.645,0.93,2.244c0.038,0.037,0.079,0.076,0.124,0.115C16.964,12.695,16.829,13.021,16.671,13.334 M10,5.417c-2.528,0-4.584,2.056-4.584,4.583c0,2.529,2.056,4.584,4.584,4.584s4.584-2.055,4.584-4.584C14.584,7.472,12.528,5.417,10,5.417 M10,13.812c-2.102,0-3.812-1.709-3.812-3.812c0-2.102,1.71-3.812,3.812-3.812c2.102,0,3.812,1.71,3.812,3.812C13.812,12.104,12.102,13.812,10,13.812"></path>
            </svg> -->
        <svg id="display-content-info" class="svg-icon" viewBox="0 0 24 24">
            <path d="M12.5,19c-.28,0-.5-.22-.5-.5v-7c0-.83-.67-1.5-1.5-1.5-.28,0-.5-.22-.5-.5s.22-.5,.5-.5c1.38,0,2.5,1.12,2.5,2.5v7c0,.28-.22,.5-.5,.5Zm-.5-14c-.55,0-1,.45-1,1s.45,1,1,1,1-.45,1-1-.45-1-1-1Zm12,14.5V4.5c0-2.48-2.02-4.5-4.5-4.5H4.5C2.02,0,0,2.02,0,4.5v15c0,2.48,2.02,4.5,4.5,4.5h15c2.48,0,4.5-2.02,4.5-4.5ZM19.5,1c1.93,0,3.5,1.57,3.5,3.5v15c0,1.93-1.57,3.5-3.5,3.5H4.5c-1.93,0-3.5-1.57-3.5-3.5V4.5c0-1.93,1.57-3.5,3.5-3.5h15Z"/>
        </svg>
        <div class="content-info">
            <p class="info">Informations:</p>
            <hr>
            <br>
            <label for="status">Status: </label>
            <span class="status-content">
                <span class="disconnected">Disconnected</span>
            </span>
            <br>
            <hr>
            <br>
            <label for="roomName">Room: </label>
            <span class="room-content">
                <span>Undefined</span>
            </span>
            <br><br>
            <label for="playerList">Connected: </label>
            <div class="player-content">
                <span>Undefined</span>
            </div>

            <br>
            <hr>
            <br>
            <label for="messageInfo">Message: </label>
            <span class="info-content">
                <span>None</span>
            </span>
        </div>
    </div>

    <div class="score-content">
        <div class="text-moving">
            <!-- <h1>Player1 to play</h1> -->
            <span style="color: red; font-size: 30px;"></span>
        </div>
    </div>
    <div class="game-content">
        <canvas id="gameCanvas"></canvas>
    </div>

    <script src="/socket.io/socket.io.js "></script>
    <script src="/static/assets/modal/js/modal.js"></script>
    <script>
        const socket = io();
    </script>

    <script src="/static/assets/js/Tilemap/TileSet.js"></script>
    <script src="/static/assets/js/Tilemap/Tilemap.js"></script>

    <script src="/static/assets/js/MouseControl.js"></script>
    <script src="/static/assets/js/TouchControl.js"></script>

    <script src="/static/assets/js/Game/GameBase.js"></script>
    <script src="/static/assets/js/Game/Game.js"></script>

    <script src="/static/assets/js/script.js"></script>

    <script src="/static/assets/js/event.js"></script>
</body>

</html>